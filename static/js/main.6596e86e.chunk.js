(this.webpackJsonpcinflex=this.webpackJsonpcinflex||[]).push([[0],{59:function(e,t,s){"use strict";s.r(t);var c=s(30),a=s(9),i=s(1),n=s(28),r=s.n(n),j=s(7),o=s(2),l=s(0);function d(){return Object(l.jsx)("div",{class:"header",children:Object(l.jsx)("h1",{children:"CINEFLEX"})})}function b(e){var t=e.data,s="/sessoes/".concat(t.id);return Object(l.jsx)(j.b,{to:s,class:"movie",children:Object(l.jsx)("img",{src:t.posterURL})})}var O=s(10),x=s.n(O);function h(){var e=Object(i.useState)([]),t=Object(a.a)(e,2),s=t[0],c=t[1];return Object(i.useEffect)((function(){x.a.get("https://mock-api.bootcamp.respondeai.com.br/api/v2/cineflex/movies").then((function(e){c(e.data)}))}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{class:"page-title",children:"Selecione o filme"}),Object(l.jsx)("div",{class:"movies-list",children:s.map((function(e){return Object(l.jsx)(b,{data:e})}))})]})}function u(e){var t=e.data,s=e.selectData,c=e.movie,a=t.showtimes;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{class:"day",children:[t.weekday," - ",t.date]}),Object(l.jsx)("div",{class:"times",children:a.map((function(e){return Object(l.jsx)(j.b,{to:"/assentos/".concat(e.id),class:"time",onClick:function(){return s(c,t.date,e.name)},children:e.name})}))})]})}function m(e){var t=e.selectData,s=Object(i.useState)({days:[]}),c=Object(a.a)(s,2),n=c[0],r=c[1],j=Object(o.f)(),d="https://mock-api.bootcamp.respondeai.com.br/api/v2/cineflex/movies/".concat(j.idMovie,"/showtimes"),b=n.days;return Object(i.useEffect)((function(){x.a.get(d).then((function(e){r(e.data)}))}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{class:"page-title",children:"Selecione o hor\xe1rio"}),Object(l.jsx)("div",{class:"sessions",children:b.map((function(e){return Object(l.jsx)(u,{data:e,selectData:t,movie:n.title})}))}),Object(l.jsxs)("div",{class:"footer",children:[Object(l.jsx)("div",{class:"box-image",children:Object(l.jsx)("img",{src:n.posterURL})}),Object(l.jsx)("div",{class:"title",children:n.title})]})]})}function v(e){var t=e.selectSeat,s=e.isSelected,c=e.setName,n=e.setCpf,r=e.sendData,d=Object(i.useState)({name:"",day:{weekday:""},seats:[],movie:{posterURL:""}}),b=Object(a.a)(d,2),O=b[0],h=b[1],u=Object(o.f)(),m="https://mock-api.bootcamp.respondeai.com.br/api/v2/cineflex/showtimes/".concat(u.idSession,"/seats"),v=O.seats;return Object(i.useEffect)((function(){x.a.get(m).then((function(e){h(e.data)}))}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{class:"page-title",children:"Selecione o(s) assento(s)"}),Object(l.jsx)("div",{class:"seats",children:v.map((function(e){return Object(l.jsx)("div",{class:e.isAvailable?s(e)?"seat selected-seat":"seat":"seat unavaible-seat",onClick:function(){return t(e)},children:e.name})}))}),Object(l.jsxs)("div",{class:"examples",children:[Object(l.jsxs)("div",{class:"example",children:[Object(l.jsx)("div",{class:"seat selected-seat"}),Object(l.jsx)("h3",{children:"Selecionado"})]}),Object(l.jsxs)("div",{class:"example",children:[Object(l.jsx)("div",{class:"seat"}),Object(l.jsx)("h3",{children:"Dispon\xedvel"})]}),Object(l.jsxs)("div",{class:"example",children:[Object(l.jsx)("div",{class:"seat unavaible-seat"}),Object(l.jsx)("h3",{children:"Indispon\xedvel"})]})]}),Object(l.jsxs)("div",{class:"data",children:[Object(l.jsx)("h2",{children:"Nome do comprador:"}),Object(l.jsx)("input",{type:"text",placeholder:"Digite seu nome...",onChange:function(e){return c(e.target.value)}}),Object(l.jsx)("h2",{children:"CPF do comprador:"}),Object(l.jsx)("input",{type:"text",placeholder:"Digite seu CPF...",onChange:function(e){return n(e.target.value)}})]}),Object(l.jsx)(j.b,{to:"/sucesso",class:"booking",onClick:r,children:"Reservar assento(s)"}),Object(l.jsxs)("div",{class:"footer",children:[Object(l.jsx)("div",{class:"box-image",children:Object(l.jsx)("img",{src:O.movie.posterURL})}),Object(l.jsxs)("div",{class:"title",children:[O.movie.title,Object(l.jsx)("br",{}),O.day.weekday," - ",O.name]})]})]})}function p(e){var t=e.name,s=e.cpf,c=e.order,a=e.data;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{class:"page-title success",children:["Pedido feito ",Object(l.jsx)("br",{})," com sucesso!"]}),Object(l.jsxs)("div",{class:"confirm",children:[Object(l.jsx)("strong",{children:"Filme e sessao"}),Object(l.jsx)("div",{class:"title",children:a.movie}),Object(l.jsxs)("div",{class:"title",children:[a.date," - ",a.time]}),Object(l.jsx)("strong",{children:"Ingressos"}),c.map((function(e){return Object(l.jsxs)("div",{class:"title",children:["Assento ",e.name]})})),Object(l.jsx)("strong",{children:"Comprador"}),Object(l.jsxs)("div",{class:"title",children:["Nome: ",t]}),Object(l.jsxs)("div",{class:"title",children:["CPF: ",s]})]}),Object(l.jsx)(j.b,{to:"/",class:"booking",children:"Voltar pra home"})]})}function f(){var e=Object(i.useState)([]),t=Object(a.a)(e,2),s=t[0],n=t[1],r=Object(i.useState)({movie:"",date:"",time:""}),b=Object(a.a)(r,2),O=b[0],u=b[1],f=Object(i.useState)(""),g=Object(a.a)(f,2),S=g[0],k=g[1],y=Object(i.useState)(""),C=Object(a.a)(y,2),F=C[0],D=C[1];function w(e){return s.find((function(t){return t===e}))}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(d,{}),Object(l.jsx)(j.a,{children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/",exact:!0,children:Object(l.jsx)(h,{})}),Object(l.jsx)(o.a,{path:"/sessoes/:idMovie",exact:!0,children:Object(l.jsx)(m,{selectData:function(e,t,s){O.movie=e,O.date=t,O.time=s,u(O)}})}),Object(l.jsx)(o.a,{path:"/assentos/:idSession",exact:!0,children:Object(l.jsx)(v,{selectSeat:function(e){if(e.isAvailable)if(w(e)){var t=s.filter((function(t){return t!==e}));n(t)}else n([].concat(Object(c.a)(s),[e]))},isSelected:w,setName:k,setCpf:D,sendData:function(){var e=[];s.forEach((function(t){e.push(t.id)}));var t={ids:e,name:S,cpf:F};x.a.post("https://mock-api.bootcamp.respondeai.com.br/api/v2/cineflex/seats/book-many",t)}})}),Object(l.jsx)(o.a,{path:"/sucesso",exact:!0,children:Object(l.jsx)(p,{name:S,cpf:F,order:s,data:O})})]})})]})}r.a.render(Object(l.jsx)(f,{}),document.querySelector(".root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.6596e86e.chunk.js.map